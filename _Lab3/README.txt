# SharpLab3
Лабораторная 3 это windows Служба как из второй лабораторной. Есть папка, которую мы мониторим,
если закинули туда файл - то заархивировали/зашифровали его, поместили в другую папку. Но в этой лабораторной, мы можем задать пути к перечисленным папкам в xml/json файле. Помимо путей к папкам(свойства отвечающие за пути к папкам определены в классе StorageOptions), так же в файлах есть bool-свойства ToEncrypt(шифровать ли файл), ToArchive(архивировать ли файл), принадлежащие классу EncryptOptions.
Извлечь свойства из файлов мы можем благодаря реализации интерфейса IConfigurationParser, реализовав его метод для десереализации под названием Parse. Этот интерфейс реализует классы XmlParser и JsonParser. Таким образом, мы получаем нужные параметры после десереализации (метод под названием GetOptions класса ConfigurationProvider) и передаём их в класс FileManagerOptions. Делаем мы это сразу после старта нашей windows службы, а также передаем свойство SourceFolder нашему логгеру, чтобы он понимал, какую папку ему нужно мониторить. Теперь, когда наша windows служба запущена, можно передавать параметры в наш FileManager прямо вместе с текстовым файлом, который добавил пользователь и который мы должны обработать, исходя из параметров в json или xml файле.
В данной windows службе по стандарту считываются параметры из json файла, если такой существует. Если же не существует, то считывает из xml файла. Если же и его не существует, то используются параметры по умолчанию.
